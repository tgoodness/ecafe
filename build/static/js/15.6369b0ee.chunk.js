(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[15],{436:function(e,a,t){},448:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var r=t(14),n=t(63),l=(t(0),t(229)),s=t(410),c=t(226),i=t(225),o=t(358),u=t(56),d=t(2),b=["name","label","value","error","onChange","helperText","items"];function m(e){var a=e.name,t=e.label,m=e.value,j=e.error,v=void 0===j?null:j,h=e.onChange,O=e.helperText,p=e.items,x=Object(n.a)(e,b);return Object(d.jsxs)(i.a,{variant:"outlined",className:"text-field",children:[Object(d.jsx)(l.a,{id:"demo-simple-select-outlined-label",children:t}),Object(d.jsx)(o.a,Object(r.a)(Object(r.a)(Object(r.a)({labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:m,onChange:h,name:a,label:t},v&&{error:!0}),x),{},{children:p.map((function(e){return Object(d.jsx)(s.a,{value:e,children:e},u.a.randomNumber()+e)}))})),Object(d.jsx)(c.a,{children:O})]})}},452:function(e,a,t){"use strict";var r=t(0),n=t(50);a.a=Object(n.a)(r.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckOutlined")},484:function(e,a,t){"use strict";t.r(a);var r=t(26),n=t(0),l=t(50),s=Object(l.a)(n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"ClearOutlined"),c=t(452),i=t(480),o=Object(l.a)(n.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined"),u=t(482),d=t(77),b=t(439),m=t(450),j=t(87),v=t(164),h=t(428),O=t(146),p=t(165),x=t(448),f=t(168),C=t(56);var N=function(){var e=Object(n.useState)({value:"",error:!1,helperText:""}),a=Object(r.a)(e,2),t=a[0],l=a[1],s=Object(n.useState)({value:"",error:!1,helperText:""}),c=Object(r.a)(s,2),i=c[0],o=c[1];return[t,function(e){var a=e.target.value;C.a.isEmail(a)?l({value:a,error:!1,helperText:""}):l(""===a?{value:a,helperText:"This field is required",error:!0}:{value:a,helperText:"Email is invalid",error:!0})},i,function(e){var a=e.target.value;o(""!==a?{value:a,error:!1,helperText:""}:{value:a,helperText:"This field is required",error:!0})}]},g=t(170),y=t(434),k=t(110),w=t(144),T=t(43);var S=function(e,a,t){var l=Object(n.useReducer)(w.b,w.a),s=Object(r.a)(l,2),c=s[0],i=s[1],o=Object(g.b)(),u=Object(y.a)(k.a,{onMutate:function(){i({type:T.d})},onError:function(e){i({type:T.b,message:e})},onSuccess:function(e){o.invalidateQueries("admins"),i({type:T.e,message:e}),t()}}).mutate;return[c,function(){""!==e&&""!==a?C.a.isEmail(e)?u({email:e,role:a}):i({type:T.f,message:"Invalid email address"}):i({type:T.f,message:"All fields are required"})},function(e,a){"clickaway"!==a&&i({type:T.a})}]},I=t(2);var L=function(e){var a=e.visible,t=e.handleCancel,n=N(),l=Object(r.a)(n,4),s=l[0],c=l[1],i=l[2],o=l[3],u=S(s.value,i.value,t),d=Object(r.a)(u,3),b=d[0],m=d[1],j=d[2];return Object(I.jsxs)(h.a,{title:"Add Admin",visible:a,onCancel:t,footer:!1,centered:!0,maskClosable:!1,className:"add-admin",destroyOnClose:!0,children:[Object(I.jsx)(O.a,{label:"Email Address",value:s.value,type:"email",onChange:c,error:s.error,helperText:s.helperText}),Object(I.jsx)(x.a,{label:"Roles",value:i.value,onChange:o,error:i.error,helperText:i.helperText,items:["Customer Service","Super Service","Principal"]}),Object(I.jsx)("div",{className:"mt-3",children:Object(I.jsx)(f.a,{loading:b.loading,onClick:m,className:"btn btn-warning btn-block",label:"Add Now"})}),Object(I.jsx)(p.a,{open:b.open,msg:b.message,onClose:j})]})};var E=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],l=a[1];return[t,function(){l(!0)},function(){l(!1)}]};var A=function(e){var a=Object(n.useRef)(null),t=Object(n.useState)(""),l=Object(r.a)(t,2),s=l[0],c=l[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),u=o[0],d=o[1];return[s,function(t){c(t.target.value),""===s&&a.current.focus();var r=e.filter((function(e){return e.sn.toString().includes(s.toString())||e.username.toLowerCase().includes(s.toLowerCase())||e.role.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.phoneNumber.toLowerCase().includes(s.toLowerCase())}));d(r)},a,u]};t(436);a.default=function(){var e=Object(m.a)("admins",k.d),a=e.status,t=e.error,n=e.data,l=[];void 0!==n&&n.data.data.profiles.map((function(e,a){var t={key:e.registrationId,sn:a+1,username:null===e.username?"---":e.username,email:e.email,role:e.role,phoneNumber:null===e.phoneNumber?"---":e.phoneNumber,enabled:e.isLocked};l.push(t)}));var h=A(l),O=Object(r.a)(h,4),p=O[0],x=O[1],f=O[2],C=O[3],N=[{title:"SN",dataIndex:"sn",key:"sn",sorter:{compare:function(e,a){return e.sn-a.sn}}},{title:"Username",dataIndex:"username",key:"username",render:function(e,a){return"---"===e?"---":Object(I.jsx)(d.b,{to:"/sub-admin/".concat(a.registrationId),className:"text-info",children:e})},sorter:function(e,a){var t=e.username,r=a.username;return t<r?-1:t>r?1:0}},{title:"Email",dataIndex:"email",key:"email",sorter:function(e,a){var t=e.email,r=a.email;return t<r?-1:t>r?1:0}},{title:"Role",dataIndex:"role",key:"role",sorter:function(e,a){var t=e.role,r=a.role;return t<r?-1:t>r?1:0}},{title:"PhoneNumber",dataIndex:"phoneNumber",key:"phoneNumber",sorter:function(e,a){var t=e.feeInDollar,r=a.feeInDollar;return t<r?-1:t>r?1:0}},{title:"Enabled",dataIndex:"enabled",key:"enabled",render:function(e){return e?Object(I.jsx)(s,{className:"text-danger"}):Object(I.jsx)(c.a,{className:"text-success"})}},{title:"More",dataIndex:"key",key:"key",render:function(e){return Object(I.jsx)(d.b,{to:"/sub-admin/".concat(e),className:"text-info",children:Object(I.jsx)(b.a,{})})}}],g=""===p?l:C,y=E(),w=Object(r.a)(y,3),T=w[0],S=w[1],M=w[2];return"success"!==a?Object(I.jsx)(v.a,{status:a,error:t,data:n,title:"Admins"}):Object(I.jsxs)(j.a,{title:"Admins",children:[Object(I.jsx)("div",{className:"row shared-history",children:Object(I.jsxs)("div",{className:"offset-md-2 col-md-8",children:[Object(I.jsxs)("div",{className:"search-parent-wrapper",children:[Object(I.jsxs)("div",{className:"search-wrapper","data-aos":"fade-down",children:[Object(I.jsx)(i.a,{}),Object(I.jsx)("input",{type:"text",ref:f,value:p,onChange:x,placeholder:"Search"})]}),Object(I.jsx)("div",{className:"add-icon",onClick:S,children:Object(I.jsx)(o,{})})]}),Object(I.jsx)("div",{className:"table-responsive",children:Object(I.jsx)(u.a,{columns:N,dataSource:g})})]})}),Object(I.jsx)(L,{visible:T,handleCancel:M})]})}}}]);
//# sourceMappingURL=15.6369b0ee.chunk.js.map