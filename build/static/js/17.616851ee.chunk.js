(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[17],{471:function(e,a,t){},495:function(e,a,t){"use strict";t.r(a);var s=t(14),c=t(26),l=t(0),n=t(50),i=Object(n.a)(l.createElement("path",{d:"M21 6h-3.17L16 4h-6v2h5.12l1.83 2H21v12H5v-9H3v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM8 14c0 2.76 2.24 5 5 5s5-2.24 5-5-2.24-5-5-5-5 2.24-5 5zm5-3c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3zM5 6h3V4H5V1H3v3H0v2h3v3h2z"}),"AddAPhotoOutlined"),r=t(87),u=t(213),b=t(146),j=t(168),o=t(165),d=t(112),m=t(31),f=t(156);var O=function(){var e=Object(d.a)(),a=e.Success,t=(0,e.GetAdmin)(),n=Object(l.useState)({preview:f.a,raw:""}),i=Object(c.a)(n,2),r=i[0],u=i[1],b=function(){a()&&t.image&&u(Object(s.a)(Object(s.a)({},r),{},{preview:"".concat(m.a).concat(t.image)}))};return[r,function(e){e.preventDefault();var a=new FileReader,t=e.target.files[0];a.onloadend=function(){u({raw:t,preview:a.result})},t&&(b(a.result),a.readAsDataURL(t))},b]},p=t(434),v=t(28),h=t(110),N=t(144),x=t(43),g=t(56),w=t(58);var R=function(e){var a=Object(l.useRef)(null),t=Object(l.useRef)(null),s=Object(l.useRef)(null),n=Object(l.useRef)(null),i=Object(v.g)(),r=Object(l.useReducer)(N.b,N.a),u=Object(c.a)(r,2),b=u[0],j=u[1],o=Object(p.a)(h.k,{onMutate:function(){j({type:x.d})},onError:function(e){j({type:x.b,message:e})},onSuccess:function(e){j({type:x.e,message:e}),setTimeout((function(){i.push("/"),i.push("/profile")}),2e3)}}).mutate;return[a,t,s,n,b,function(){var c=a.current.value,l=t.current.value,i=s.current.value,r=n.current.value;if(""!==c&&""!==l&&""!==i&&""!==r)if(g.a.isPhoneNumber(r)){var u=w.a.registrationId(),b={};b=void 0===e.name?{username:c,firstName:l,lastName:i,phoneNumber:r,registrationId:u}:{image:e,username:c,firstName:l,lastName:i,phoneNumber:r,registrationId:u},o(b)}else j({type:x.f,message:"Invalid Phone Number"});else j({type:x.f,message:"All fields are required"})},function(e,a){"clickaway"!==a&&j({type:x.a})}]},y=(t(471),t(2));a.default=function(){var e=O(),a=Object(c.a)(e,3),t=a[0],l=a[1],n=a[2],m=Object(d.a)(),f=m.Success,p=(0,m.GetAdmin)(),v=R(t.raw),h=Object(c.a)(v,7),N=h[0],x=h[1],g=h[2],w=h[3],k=h[4],V=h[5],A=h[6];return Object(y.jsxs)(r.a,{title:"Profile",children:[f()?Object(y.jsx)("div",{className:"row profile",children:Object(y.jsxs)("div",{className:"offset-md-3 col-md-6",children:[Object(y.jsx)("div",{className:"image-wrapper",children:Object(y.jsxs)("label",{children:[Object(y.jsx)("div",{className:"mask-icon",children:Object(y.jsx)(i,{})}),Object(y.jsx)("img",Object(s.a)({src:t.preview,alt:"User Picture",width:100},""===t.raw&&{onLoad:n})),Object(y.jsx)("input",{type:"file",className:"d-none",onChange:l})]})}),Object(y.jsxs)("div",{className:"row ",children:[Object(y.jsx)("div",{className:"col-md-6",children:Object(y.jsx)(b.a,{label:"Role",value:p.role,disabled:!0})}),Object(y.jsx)("div",{className:"col-md-6",children:Object(y.jsx)(b.a,{label:"Username",inputRef:N,defaultValue:p.username})})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-md-6",children:Object(y.jsx)(b.a,{label:"First Name",inputRef:x,defaultValue:p.firstName})}),Object(y.jsx)("div",{className:"col-md-6",children:Object(y.jsx)(b.a,{label:"Last Name",inputRef:g,defaultValue:p.lastName})})]}),Object(y.jsx)(b.a,{label:"Email",type:"email",value:p.email}),Object(y.jsx)(b.a,{label:"Phone Number",type:"number",inputRef:w,defaultValue:p.phoneNumber}),Object(y.jsx)(j.a,{label:"Update",className:"btn btn-warning btn-block",loading:k.loading,onClick:V})]})}):Object(y.jsx)(u.a,{}),Object(y.jsx)(o.a,{open:k.open,msg:k.message,onClose:A})]})}}}]);
//# sourceMappingURL=17.616851ee.chunk.js.map