{"version":3,"sources":["lib/http/users.js","lib/service/history-tab.js","components/p2p/core/SearchLogic.js","components/p2p/core/ModalHandler.js","components/p2p/Details.jsx","components/p2p/P2P.jsx"],"names":["users","axios","get","API_URL","headers","authHeader","user","registrationId","tradeCrypto","p2p","received","transfer","handleTab","useState","pending","completed","cancelled","activeTab","active","setstate","type","SearchLogic","data","inputRef","useRef","searchTerm","setSearchTerm","searchResults","setSearchResults","e","target","value","current","focus","result","filter","o","key","includes","toLowerCase","amountInDollar","toString","amountInCoin","sellerFeeInDollar","buyerFeeInDollar","date","time","ModalHandler","visible","setIsModalVisible","reference","setReference","currentTarget","id","Details","props","handleCancel","undefined","payload","txs","find","p","referenceNumber","console","log","title","onCancel","footer","maskClosable","className","status","orderType","buyerFeeInCoin","sellerFeeInCoin","coinRateInDollar","to","buyer","firstName","lastName","seller","util","dateFormat","dateAndTime","timeFormat","dateModified","popUploaded","src","IMG_URL","proofOfPayment","pop","P2P","historyTab","handleActive","useQuery","error","modalHandler","showModal","map","item","index","sn","push","searchLogic","handleSearch","columns","dataIndex","sorter","compare","a","b","render","text","onClick","v1","v2","record","RightOutlined","h","Pageview","SearchOutlined","ref","onChange","placeholder","dataSource"],"mappings":"6FAAA,oPAIaA,EAAQ,WACnB,OAAOC,IAAMC,IAAN,UAAaC,IAAb,SAA6B,CAClCC,QAASC,iBAIAC,EAAO,SAACC,GACnB,OAAON,IAAMC,IAAN,UAAaC,IAAb,iBAA6BI,GAAkB,CACpDH,QAASC,iBAkCAG,EAAc,WACzB,OAAOP,IAAMC,IAAN,UAAaC,IAAb,kBAAsC,CAC3CC,QAASC,iBAIAI,EAAM,WACjB,OAAOR,IAAMC,IAAN,UAAaC,IAAb,eAAmC,CACxCC,QAASC,iBAIAK,EAAW,WACtB,OAAOT,IAAMC,IAAN,UAAaC,IAAb,oBAAwC,CAC7CC,QAASC,iBAIAM,EAAW,WACtB,OAAOV,IAAMC,IAAN,UAAaC,IAAb,oBAAwC,CAC7CC,QAASC,kB,gGC7BEO,IAnCf,WACE,MAA2BC,mBAAS,CAClCC,SAAS,EACTC,WAAW,EACXC,WAAW,EACXC,UAAW,YAJb,mBAAOC,EAAP,KAAeC,EAAf,KA+BA,MAAO,CAACD,EAAOD,UAxBM,SAACG,GACP,YAATA,GACFD,EAAS,CACPL,SAAS,EACTC,WAAW,EACXC,WAAW,EACXC,UAAW,YAIF,cAATG,GACFD,EAAS,CAAEL,SAAS,EAAOC,WAAW,EAAMC,WAAW,EAAOC,UAAW,cAG9D,cAATG,GACFD,EAAS,CACPL,SAAS,EACTC,WAAW,EACXC,WAAW,EACXC,UAAW,kB,gHCAJI,MA3Bf,SAAqBC,GACnB,IAAMC,EAAWC,iBAAO,MACxB,EAAoCX,mBAAS,IAA7C,mBAAOY,EAAP,KAAmBC,EAAnB,KACA,EAA0Cb,mBAAS,IAAnD,mBAAOc,EAAP,KAAsBC,EAAtB,KAqBA,MAAO,CAACH,EApBa,SAACI,GACpBH,EAAcG,EAAEC,OAAOC,OACJ,KAAfN,GACFF,EAASS,QAAQC,QAGnB,IAAMC,EAASZ,EAAKa,QAClB,SAACC,GAAD,OACEA,EAAEC,IAAIC,SAASb,EAAWc,gBAC1BH,EAAEI,eAAeC,WAAWH,SAASb,EAAWc,gBAChDH,EAAEM,aAAaD,WAAWH,SAASb,EAAWc,gBAC9CH,EAAEO,kBAAkBF,WAAWH,SAASb,EAAWc,gBACnDH,EAAEQ,iBAAiBH,WAAWH,SAASb,EAAWc,gBAClDH,EAAEhB,KAAKmB,cAAcD,SAASb,EAAWc,gBACzCH,EAAES,KAAKN,cAAcD,SAASb,EAAWc,gBACzCH,EAAEU,KAAKP,cAAcD,SAASb,EAAWc,kBAE7CX,EAAiBM,IAGeX,EAAUI,ICV/BoB,MAdf,WACE,MAAqClC,oBAAS,GAA9C,mBAAOmC,EAAP,KAAgBC,EAAhB,KACA,EAAkCpC,mBAAS,IAA3C,mBAAOqC,EAAP,KAAkBC,EAAlB,KASA,MAAO,CAACD,EAAWF,EARD,SAACnB,GACjBsB,EAAatB,EAAEuB,cAAcC,IAC7BJ,GAAkB,IAGC,WACnBA,GAAkB,M,qEC+IPK,MAlJf,SAAiBC,GACf,IAAQL,EAA2CK,EAA3CL,UAAW5B,EAAgCiC,EAAhCjC,KAAM0B,EAA0BO,EAA1BP,QAASQ,EAAiBD,EAAjBC,aAElC,QAAaC,IAATnC,GAAoC,KAAd4B,EACxB,OAAO,KAGT,IAAMQ,EAAUpC,EAAKA,KAAKA,KAAKqC,IAAIC,MAAK,SAACC,GAAD,OAAOA,EAAEC,kBAAoBZ,KAGrE,OAFAa,QAAQC,IAAIN,GAGV,eAAC,IAAD,CACEO,MAAM,UACNjB,QAASA,EACTkB,SAAUV,EACVW,QAAQ,EACRC,cAAc,EACdC,UAAU,cANZ,UAQE,gCACE,2CACA,oBAAIA,UAAU,OAAd,SAAsBX,EAAQI,qBAEhC,sBAAKO,UAAU,cAAf,UACE,gCACE,wCACA,6BACsB,gBAAnBX,EAAQY,QAA4B,sBAAMD,UAAU,UAAhB,2BAEvC,6BAAwB,cAAnBX,EAAQY,QAA0B,sBAAMD,UAAU,UAAhB,yBACvC,6BAAwB,cAAnBX,EAAQY,QAA0B,sBAAMD,UAAU,SAAhB,4BAEzC,gCACE,sCACA,oBAAIA,UAAU,OAAd,SAAsBX,EAAQa,kBAGlC,sBAAKF,UAAU,cAAf,UACE,gCACE,8CACA,6BAAKX,EAAQlB,oBAEf,gCACE,8CACA,6BAAKkB,EAAQhB,qBAIjB,sBAAK2B,UAAU,cAAf,UACE,gCACE,gDACA,6BAAKX,EAAQd,sBAEf,gCACE,iDACA,6BAAKc,EAAQc,uBAIjB,sBAAKH,UAAU,cAAf,UACE,gCACE,iDACA,6BAAKX,EAAQf,uBAEf,gCACE,kDACA,6BAAKe,EAAQe,wBAIjB,qBAAKJ,UAAU,cAAf,SACE,gCACE,sCACA,mCACIX,EAAQgB,iBACV,iCACG,IADH,IACShB,EAAQgB,4BAMvB,sBAAKL,UAAU,cAAf,UACE,gCACE,uCACA,6BACE,cAAC,IAAD,CAAMM,GAAE,gBAAWjB,EAAQkB,MAAMrE,gBAAkB8D,UAAU,YAA7D,mBACMX,EAAQkB,MAAMC,UADpB,YACiCnB,EAAQkB,MAAME,iBAInD,gCACE,wCACA,6BACE,cAAC,IAAD,CAAMH,GAAE,gBAAWjB,EAAQqB,OAAOxE,gBAAkB8D,UAAU,YAA9D,mBACMX,EAAQqB,OAAOF,UADrB,YACkCnB,EAAQqB,OAAOD,oBAiBvD,sBAAKT,UAAU,cAAf,UACE,gCACE,8CACA,6BAAKW,IAAKC,WAAWvB,EAAQwB,kBAE/B,gCACE,sCACA,6BAAKF,IAAKG,WAAWzB,EAAQwB,qBAIP,OAAzBxB,EAAQ0B,cACP,sBAAKf,UAAU,cAAf,UACE,gCACE,+CACA,6BAAKW,IAAKC,WAAWvB,EAAQ0B,mBAE/B,gCACE,sCACA,6BAAKJ,IAAKG,WAAWzB,EAAQ0B,sBAKlC1B,EAAQ2B,aACP,sBAAKhB,UAAU,cAAf,UACE,2CACA,cAAC,IAAD,CAAOiB,IAAG,UAAKC,KAAL,OAAe7B,EAAQ8B,eAAeC,c,gBCoH3CC,UAtPf,WACE,MAA+BC,cAA/B,mBAAOzE,EAAP,KAAe0E,EAAf,KACA,EAAgCC,YAAS,MAAOpF,KAAxC6D,EAAR,EAAQA,OAAQwB,EAAhB,EAAgBA,MAAOxE,EAAvB,EAAuBA,KACvB,EAAsDyE,IAAtD,mBAAO7C,EAAP,KAAkBF,EAAlB,KAA2BgD,EAA3B,KAAsCxC,EAAtC,KACAO,QAAQC,IAAI1C,GACZ,IAAIoC,EAAU,QACDD,IAATnC,GACFA,EAAKA,KAAKA,KAAKqC,IAAIsC,KAAI,SAACC,EAAMC,GAC5B,IAAMpE,EAAQ,CACZM,IAAK6D,EAAKpC,gBACVsC,GAAID,EAAQ,EACZ7B,OAAQ4B,EAAK5B,OACb9B,eAAgB0D,EAAK1D,eACrBE,aAAcwD,EAAKxD,aACnBE,iBAAkBsD,EAAKtD,iBACvBD,kBAAmBuD,EAAKvD,kBACxBvB,KAAM8E,EAAK3B,UACX1B,KAAMmC,IAAKC,WAAWiB,EAAKhB,aAC3BpC,KAAMkC,IAAKG,WAAWe,EAAKhB,cAE7BxB,EAAQ2C,KAAKtE,MAIjB,MAA4DuE,EAAY5C,GAAxE,mBAAOjC,EAAP,KAAmB8E,EAAnB,KAAiChF,EAAjC,KAA2CI,EAA3C,KACM6E,EAAU,CACd,CACEvC,MAAO,MACPwC,UAAW,KACXpE,IAAK,KACLqE,OAAQ,CACNC,QAAS,SAACC,EAAGC,GAAJ,OAAUD,EAAER,GAAKS,EAAET,MAGhC,CACEnC,MAAO,YACPwC,UAAW,MACXpE,IAAK,MAELyE,OAAQ,SAACC,GAAD,OACN,sBAAM1C,UAAU,YAAY2C,QAAShB,EAAW3C,GAAI0D,EAApD,SACGA,KAGLL,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAEvE,IACP6E,EAAKL,EAAExE,IACX,OAAI4E,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,cACPwC,UAAW,iBACXpE,IAAK,iBACLqE,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAEpE,eACP0E,EAAKL,EAAErE,eACX,OAAIyE,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,cACPwC,UAAW,eACXpE,IAAK,eACLqE,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAElE,aACPwE,EAAKL,EAAEnE,aACX,OAAIuE,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,iBACPwC,UAAW,mBACXpE,IAAK,mBACLqE,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAEhE,iBACPsE,EAAKL,EAAEjE,iBACX,OAAIqE,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,kBACPwC,UAAW,oBACXpE,IAAK,oBACLqE,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAEjE,kBACPuE,EAAKL,EAAElE,kBACX,OAAIsE,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,OACPwC,UAAW,OACXpE,IAAK,OACLqE,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAExF,KACP8F,EAAKL,EAAEzF,KACX,OAAI6F,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,OACPwC,UAAW,OACXpE,IAAK,OACLqE,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAE/D,KACPqE,EAAKL,EAAEhE,KACX,OAAIoE,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,OACPwC,UAAW,OACXpE,IAAK,OACLqE,OAAQ,SAACE,EAAGC,GACV,IAAII,EAAKL,EAAE9D,KACPoE,EAAKL,EAAE/D,KACX,OAAImE,EAAKC,GACC,EAEND,EAAKC,EACA,EAEF,IAIX,CACEjD,MAAO,OACPwC,UAAW,MACXpE,IAAK,MAELyE,OAAQ,SAACC,EAAMI,GAAP,OACN,cAACC,EAAA,EAAD,CAAe/C,UAAU,eAAe2C,QAAShB,EAAW3C,GAAI8D,EAAO9E,SAKzEiD,EAAqB,KAAf7D,EAAoBiC,EAAU/B,EAUxC,MARe,YAAXT,IACFoE,EAAMA,EAAInD,QAAO,SAACkF,GAAD,MAAoB,cAAbA,EAAE/C,WAGb,cAAXpD,IACFoE,EAAMA,EAAInD,QAAO,SAACkF,GAAD,MAAoB,cAAbA,EAAE/C,WAGb,YAAXA,EACK,cAAC,IAAD,CAAWA,OAAQA,EAAQwB,MAAOA,EAAOxE,KAAMA,EAAM2C,MAAM,QAIlE,eAACqD,EAAA,EAAD,CAAUrD,MAAM,MAAhB,UACE,sBAAKI,UAAU,iBAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,uBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,qBACEA,UAAsB,YAAXnD,EAAuB,SAAW,GAC7C8F,QAAS,kBAAMpB,EAAa,YAF9B,qBAMA,qBACEvB,UAAsB,cAAXnD,EAAyB,SAAW,GAC/C8F,QAAS,kBAAMpB,EAAa,cAF9B,8BASN,qBAAKvB,UAAU,MAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,iBAAiB,WAAS,YAAzC,UACE,cAACkD,EAAA,EAAD,IACA,uBACEnG,KAAK,OACLoG,IAAKjG,EACLQ,MAAON,EACPgG,SAAUlB,EACVmB,YAAY,cAIhB,qBAAKrD,UAAU,mBAAf,SACE,cAAC,IAAD,CAAOmC,QAASA,EAASmB,WAAYrC,cAK7C,cAAC,EAAD,CAASpC,UAAWA,EAAW5B,KAAMA,EAAM0B,QAASA,EAASQ,aAAcA","file":"static/js/10.492fdab0.chunk.js","sourcesContent":["import { API_URL } from './url';\r\nimport axios from 'axios';\r\nimport { authHeader } from './config';\r\n\r\nexport const users = () => {\r\n  return axios.get(`${API_URL}users`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const user = (registrationId) => {\r\n  return axios.get(`${API_URL}users/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manage = (params) => {\r\n  return axios.post(`${API_URL}users/restriction`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userP2P = (params) => {\r\n  return axios.get(`${API_URL}users/p2p`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTradeCrypto = (params) => {\r\n  return axios.get(`${API_URL}users/trade`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTransfer = (params) => {\r\n  return axios.get(`${API_URL}users/transfer`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userReceived = (params) => {\r\n  return axios.get(`${API_URL}users/received`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const tradeCrypto = () => {\r\n  return axios.get(`${API_URL}btc/txs/bought`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const p2p = () => {\r\n  return axios.get(`${API_URL}btc/txs/p2p`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const received = () => {\r\n  return axios.get(`${API_URL}btc/txs/received`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const transfer = () => {\r\n  return axios.get(`${API_URL}btc/txs/transfer`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n","import { useState } from 'react';\r\n\r\nfunction handleTab() {\r\n  const [active, setstate] = useState({\r\n    pending: true,\r\n    completed: false,\r\n    cancelled: false,\r\n    activeTab: 'PENDING',\r\n  });\r\n\r\n  const handleActive = (type) => {\r\n    if (type === 'PENDING') {\r\n      setstate({\r\n        pending: true,\r\n        completed: false,\r\n        cancelled: false,\r\n        activeTab: 'PENDING',\r\n      });\r\n    }\r\n\r\n    if (type === 'COMPLETED') {\r\n      setstate({ pending: false, completed: true, cancelled: false, activeTab: 'COMPLETED' });\r\n    }\r\n\r\n    if (type === 'CANCELLED') {\r\n      setstate({\r\n        pending: false,\r\n        completed: false,\r\n        cancelled: true,\r\n        activeTab: 'CANCELLED',\r\n      });\r\n    }\r\n  };\r\n\r\n  return [active.activeTab, handleActive];\r\n}\r\n\r\nexport default handleTab;\r\n","import { useState, useRef } from 'react';\r\n\r\nfunction SearchLogic(data) {\r\n  const inputRef = useRef(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n    if (searchTerm === '') {\r\n      inputRef.current.focus();\r\n    }\r\n\r\n    const result = data.filter(\r\n      (o) =>\r\n        o.key.includes(searchTerm.toLowerCase()) ||\r\n        o.amountInDollar.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.amountInCoin.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.sellerFeeInDollar.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.buyerFeeInDollar.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.type.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.date.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.time.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setSearchResults(result);\r\n  };\r\n\r\n  return [searchTerm, handleSearch, inputRef, searchResults];\r\n}\r\n\r\nexport default SearchLogic;\r\n","import { useState } from 'react';\r\n\r\nfunction ModalHandler() {\r\n  const [visible, setIsModalVisible] = useState(false);\r\n  const [reference, setReference] = useState('');\r\n  const showModal = (e) => {\r\n    setReference(e.currentTarget.id);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  return [reference, visible, showModal, handleCancel];\r\n}\r\n\r\nexport default ModalHandler;\r\n","import React from 'react';\r\nimport { Modal, Image } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport util from '../../lib/service/util';\r\nimport '../../lib/style/p2p-details.scss';\r\nimport { IMG_URL } from '../../lib/http/url';\r\n\r\nfunction Details(props) {\r\n  const { reference, data, visible, handleCancel } = props;\r\n\r\n  if (data === undefined || reference === '') {\r\n    return null;\r\n  }\r\n\r\n  const payload = data.data.data.txs.find((p) => p.referenceNumber === reference);\r\n  console.log(payload);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Details\"\r\n      visible={visible}\r\n      onCancel={handleCancel}\r\n      footer={false}\r\n      maskClosable={false}\r\n      className=\"p2p-details\"\r\n    >\r\n      <div>\r\n        <h6>Reference</h6>\r\n        <h5 className=\"type\">{payload.referenceNumber}</h5>\r\n      </div>\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Status</h6>\r\n          <h5>\r\n            {payload.status === 'UNCONFIRMED' && <span className=\"pending\">UNCONFIRMED</span>}\r\n          </h5>\r\n          <h5>{payload.status === 'CONFIRMED' && <span className=\"success\">CONFIRMED</span>}</h5>\r\n          <h5>{payload.status === 'CANCELLED' && <span className=\"danger\">CANCELLED</span>}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Type</h6>\r\n          <h5 className=\"type\">{payload.orderType}</h5>\r\n        </div>\r\n      </div>\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Amount (USD)</h6>\r\n          <h5>{payload.amountInDollar}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Amount (BTC)</h6>\r\n          <h5>{payload.amountInCoin}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Buyer Fee(USD)</h6>\r\n          <h5>{payload.buyerFeeInDollar}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Buyer Fee (BTC)</h6>\r\n          <h5>{payload.buyerFeeInCoin}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Seller Fee(USD)</h6>\r\n          <h5>{payload.sellerFeeInDollar}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Seller Fee (BTC)</h6>\r\n          <h5>{payload.sellerFeeInCoin}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Rate</h6>\r\n          <h5>\r\n            ${payload.coinRateInDollar}\r\n            <span>\r\n              {'>'}N{payload.coinRateInDollar}\r\n            </span>\r\n          </h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Buyer</h6>\r\n          <h5>\r\n            <Link to={`/user/${payload.buyer.registrationId}`} className=\"text-info\">\r\n              {`${payload.buyer.firstName} ${payload.buyer.lastName}`}\r\n            </Link>\r\n          </h5>\r\n        </div>\r\n        <div>\r\n          <h6>Seller</h6>\r\n          <h5>\r\n            <Link to={`/user/${payload.seller.registrationId}`} className=\"text-info\">\r\n              {`${payload.seller.firstName} ${payload.seller.lastName}`}\r\n            </Link>\r\n          </h5>\r\n        </div>\r\n      </div>\r\n      {/* \r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Category</h6>\r\n          <h5>Dynamic</h5>\r\n        </div>\r\n        <div>\r\n          <h6>In Bit</h6>\r\n          <h5>YES</h5>\r\n        </div>\r\n      </div> */}\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Date Created</h6>\r\n          <h5>{util.dateFormat(payload.dateAndTime)}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Time</h6>\r\n          <h5>{util.timeFormat(payload.dateAndTime)}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      {payload.dateModified !== null && (\r\n        <div className=\"row-wrapper\">\r\n          <div>\r\n            <h6>Date Modified</h6>\r\n            <h5>{util.dateFormat(payload.dateModified)}</h5>\r\n          </div>\r\n          <div>\r\n            <h6>Time</h6>\r\n            <h5>{util.timeFormat(payload.dateModified)}</h5>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {payload.popUploaded && (\r\n        <div className=\"pop-wrapper\">\r\n          <h6>Buyer POP</h6>\r\n          <Image src={`${IMG_URL}${payload.proofOfPayment.pop}`} />\r\n        </div>\r\n      )}\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default Details;\r\n","import React from 'react';\r\nimport { SearchOutlined } from '@material-ui/icons';\r\nimport { useQuery } from 'react-query';\r\nimport { Table } from 'antd';\r\nimport { RightOutlined } from '@ant-design/icons';\r\n\r\nimport Pageview from '../../lib/layout/Pageview';\r\nimport { ErrorPage } from '../../lib/control/error-page/FallBack';\r\nimport searchLogic from './core/SearchLogic';\r\nimport modalHandler from './core/ModalHandler';\r\nimport { p2p } from '../../lib/http/users';\r\n\r\nimport Details from './Details';\r\nimport historyTab from '../../lib/service/history-tab';\r\nimport util from '../../lib/service/util';\r\nimport '../../lib/style/shared-history.scss';\r\n\r\nfunction P2P() {\r\n  const [active, handleActive] = historyTab();\r\n  const { status, error, data } = useQuery('p2p', p2p);\r\n  const [reference, visible, showModal, handleCancel] = modalHandler();\r\n  console.log(data);\r\n  let payload = [];\r\n  if (data !== undefined) {\r\n    data.data.data.txs.map((item, index) => {\r\n      const value = {\r\n        key: item.referenceNumber,\r\n        sn: index + 1,\r\n        status: item.status,\r\n        amountInDollar: item.amountInDollar,\r\n        amountInCoin: item.amountInCoin,\r\n        buyerFeeInDollar: item.buyerFeeInDollar,\r\n        sellerFeeInDollar: item.sellerFeeInDollar,\r\n        type: item.orderType,\r\n        date: util.dateFormat(item.dateAndTime),\r\n        time: util.timeFormat(item.dateAndTime),\r\n      };\r\n      payload.push(value);\r\n    });\r\n  }\r\n\r\n  const [searchTerm, handleSearch, inputRef, searchResults] = searchLogic(payload);\r\n  const columns = [\r\n    {\r\n      title: 'S/N',\r\n      dataIndex: 'sn',\r\n      key: 'sn',\r\n      sorter: {\r\n        compare: (a, b) => a.sn - b.sn,\r\n      },\r\n    },\r\n    {\r\n      title: 'Reference',\r\n      dataIndex: 'key',\r\n      key: 'key',\r\n      // eslint-disable-next-line react/display-name\r\n      render: (text) => (\r\n        <span className=\"text-info\" onClick={showModal} id={text}>\r\n          {text}\r\n        </span>\r\n      ),\r\n      sorter: (a, b) => {\r\n        var v1 = a.key;\r\n        var v2 = b.key;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Amount(USD)',\r\n      dataIndex: 'amountInDollar',\r\n      key: 'amountInDollar',\r\n      sorter: (a, b) => {\r\n        var v1 = a.amountInDollar;\r\n        var v2 = b.amountInDollar;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Amount(BTC)',\r\n      dataIndex: 'amountInCoin',\r\n      key: 'amountInCoin',\r\n      sorter: (a, b) => {\r\n        var v1 = a.amountInCoin;\r\n        var v2 = b.amountInCoin;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Buyer Fee(USD)',\r\n      dataIndex: 'buyerFeeInDollar',\r\n      key: 'buyerFeeInDollar',\r\n      sorter: (a, b) => {\r\n        var v1 = a.buyerFeeInDollar;\r\n        var v2 = b.buyerFeeInDollar;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Seller Fee(USD)',\r\n      dataIndex: 'sellerFeeInDollar',\r\n      key: 'sellerFeeInDollar',\r\n      sorter: (a, b) => {\r\n        var v1 = a.sellerFeeInDollar;\r\n        var v2 = b.sellerFeeInDollar;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Type',\r\n      dataIndex: 'type',\r\n      key: 'type',\r\n      sorter: (a, b) => {\r\n        var v1 = a.type;\r\n        var v2 = b.type;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'date',\r\n      key: 'date',\r\n      sorter: (a, b) => {\r\n        var v1 = a.date;\r\n        var v2 = b.date;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Time',\r\n      dataIndex: 'time',\r\n      key: 'time',\r\n      sorter: (a, b) => {\r\n        var v1 = a.time;\r\n        var v2 = b.time;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'More',\r\n      dataIndex: 'key',\r\n      key: 'key',\r\n      // eslint-disable-next-line react/display-name\r\n      render: (text, record) => (\r\n        <RightOutlined className=\"text-primary\" onClick={showModal} id={record.key} />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  let src = searchTerm === '' ? payload : searchResults;\r\n\r\n  if (active === 'PENDING') {\r\n    src = src.filter((h) => h.status === 'CANCELLED');\r\n  }\r\n\r\n  if (active === 'COMPLETED') {\r\n    src = src.filter((h) => h.status === 'COMPLETED');\r\n  }\r\n\r\n  if (status !== 'success') {\r\n    return <ErrorPage status={status} error={error} data={data} title=\"P2P\" />;\r\n  }\r\n\r\n  return (\r\n    <Pageview title=\"P2P\">\r\n      <div className=\"shared-history\">\r\n        <div className=\"row\">\r\n          <div className=\"offset-md-2 col-md-8\">\r\n            <div className=\"tab-wrapper\">\r\n              <div\r\n                className={active === 'PENDING' ? 'active' : ''}\r\n                onClick={() => handleActive('PENDING')}\r\n              >\r\n                PENDING\r\n              </div>\r\n              <div\r\n                className={active === 'COMPLETED' ? 'active' : ''}\r\n                onClick={() => handleActive('COMPLETED')}\r\n              >\r\n                COMPLETED\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"offset-md-2 col-md-8\">\r\n            <div className=\"search-wrapper\" data-aos=\"fade-down\">\r\n              <SearchOutlined />\r\n              <input\r\n                type=\"text\"\r\n                ref={inputRef}\r\n                value={searchTerm}\r\n                onChange={handleSearch}\r\n                placeholder=\"Search\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"table-responsive\">\r\n              <Table columns={columns} dataSource={src} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Details reference={reference} data={data} visible={visible} handleCancel={handleCancel} />\r\n    </Pageview>\r\n  );\r\n}\r\n\r\nexport default P2P;\r\n"],"sourceRoot":""}