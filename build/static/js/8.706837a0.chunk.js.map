{"version":3,"sources":["lib/http/admin.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@material-ui/icons/esm/CheckOutlined.js","lib/control/Select.jsx","../node_modules/@material-ui/icons/esm/ClearOutlined.js","../node_modules/@material-ui/icons/esm/AddOutlined.js","components/sub-admins/core/SearchLogic.js","components/sub-admins/add-admin/core/FormHandler.js","components/sub-admins/add-admin/AddAdmin.jsx","components/sub-admins/add-admin/core/ModalHandler.js","components/sub-admins/SubAdmins.jsx"],"names":["login","param","a","axios","post","API_URL","headers","authHeader","admin","registrationId","get","admins","analytics","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","createSvgIcon","React","d","SimpleSelect","prob","name","label","onChange","helperText","items","rest","variant","className","id","labelId","map","item","util","randomNumber","SearchLogic","data","inputRef","useRef","useState","searchTerm","setSearchTerm","searchResults","setSearchResults","e","target","current","focus","result","filter","o","sn","toString","includes","username","toLowerCase","email","phoneNumber","Handler","setEmail","role","setRole","isEmail","AddAdmin","props","visible","handleCancel","formHandler","handleEmail","handleRole","title","onCancel","footer","centered","maskClosable","AccountCircleOutlined","Input","type","Select","Button","loading","ModalHandler","setIsModalVisible","SubAdmin","useQuery","status","payload","profiles","index","enabled","locked","push","searchLogic","handleSearch","columns","dataIndex","sorter","compare","b","render","text","record","to","v1","v2","feeInDollar","ClearOutlined","CheckOutlined","RightOutlined","src","modalHandler","showModal","Pageview","SearchOutlined","ref","placeholder","onClick","AddOutlined","dataSource"],"mappings":"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","file":"static/js/8.706837a0.chunk.js","sourcesContent":["import { API_URL } from './url';\r\nimport axios from 'axios';\r\nimport { authHeader, formData } from './config';\r\n\r\nexport const login = async (param) => {\r\n  return axios.post(`${API_URL}admins/login`, param, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const admin = async (registrationId) => {\r\n  return await axios.get(`${API_URL}admins/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const admins = () => {\r\n  return axios.get(`${API_URL}admins`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const banks = async () => {\r\n  return await axios.get(`${API_URL}banks`);\r\n};\r\n\r\nexport const updateProfile = async (params) => {\r\n  return await axios.put(`${API_URL}admins`, params, {\r\n    headers: formData(),\r\n  });\r\n};\r\n\r\nexport const sendCrypto = async (params) => {\r\n  return await axios.post(`${API_URL}admin/send-crypto`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const sendCypto = async (params) => {\r\n  return await axios.post(`${API_URL}btc/admin/airdrop`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const changePassword = async (params) => {\r\n  return await axios.put(`${API_URL}admins`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const analytics = () => {\r\n  return axios.get(`${API_URL}btc/analytics`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const activities = () => {\r\n  return axios.get(`${API_URL}admins`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manage = () => {\r\n  return axios.get(`${API_URL}admins/restriction`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\"\n}), 'CheckOutlined');","import React from 'react';\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport util from '../service/util';\r\nexport default function SimpleSelect(prob) {\r\n  const { name, label, value, error = null, onChange, helperText, items, ...rest } = prob;\r\n\r\n  return (\r\n    <FormControl variant=\"outlined\" className=\"text-field\">\r\n      <InputLabel id=\"demo-simple-select-outlined-label\">{label}</InputLabel>\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        value={value}\r\n        onChange={onChange}\r\n        name={name}\r\n        label={label}\r\n        {...(error && { error: true })}\r\n        {...rest}\r\n      >\r\n        {items.map((item) => {\r\n          return (\r\n            <MenuItem key={util.randomNumber() + item} value={item}>\r\n              {item}\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Select>\r\n\r\n      <FormHelperText>{helperText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n}), 'ClearOutlined');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'AddOutlined');","import { useState, useRef } from 'react';\r\n\r\nfunction SearchLogic(data) {\r\n  const inputRef = useRef(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n    if (searchTerm === '') {\r\n      inputRef.current.focus();\r\n    }\r\n\r\n    const result = data.filter(\r\n      (o) =>\r\n        o.sn.toString().includes(searchTerm.toString()) ||\r\n        o.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.phoneNumber.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setSearchResults(result);\r\n  };\r\n\r\n  return [searchTerm, handleSearch, inputRef, searchResults];\r\n}\r\n\r\nexport default SearchLogic;\r\n","import { useState } from 'react';\r\nimport util from '../../../../lib/service/util';\r\n\r\nfunction Handler() {\r\n  const [email, setEmail] = useState({\r\n    value: '',\r\n    error: false,\r\n    helperText: '',\r\n  });\r\n\r\n  const handleEmail = (e) => {\r\n    const value = e.target.value;\r\n\r\n    if (util.isEmail(value)) {\r\n      setEmail({\r\n        value: value,\r\n        error: false,\r\n        helperText: '',\r\n      });\r\n    } else {\r\n      if (value === '') {\r\n        setEmail({\r\n          value: value,\r\n          helperText: 'This field is required',\r\n          error: true,\r\n        });\r\n      } else {\r\n        setEmail({\r\n          value: value,\r\n          helperText: 'Email is invalid',\r\n          error: true,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const [role, setRole] = useState({\r\n    value: '',\r\n    error: false,\r\n    helperText: '',\r\n  });\r\n\r\n  const handleRole = (e) => {\r\n    const value = e.target.value;\r\n\r\n    if (value !== '') {\r\n      setRole({\r\n        value: value,\r\n        error: false,\r\n        helperText: '',\r\n      });\r\n    } else {\r\n      setRole({\r\n        value: value,\r\n        helperText: 'This field is required',\r\n        error: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  return [email, handleEmail, role, handleRole];\r\n}\r\n\r\nexport default Handler;\r\n","import React from 'react';\r\nimport { Modal } from 'antd';\r\nimport { AccountCircleOutlined } from '@material-ui/icons';\r\n\r\nimport Input from '../../../lib/control/Input';\r\nimport Select from '../../../lib/control/Select';\r\nimport Button from '../../../lib/control/Button';\r\nimport formHandler from './core/FormHandler';\r\nimport '../../../lib/style/add-admin.scss';\r\n\r\nfunction AddAdmin(props) {\r\n  const { visible, handleCancel } = props;\r\n  const [email, handleEmail, role, handleRole] = formHandler();\r\n  return (\r\n    <Modal\r\n      title=\"Add Admin\"\r\n      visible={visible}\r\n      onCancel={handleCancel}\r\n      footer={false}\r\n      centered={true}\r\n      maskClosable={false}\r\n      className=\"add-admin\"\r\n    >\r\n      <div className=\"user-icon-wrapper\">\r\n        <AccountCircleOutlined />\r\n      </div>\r\n      <Input\r\n        label=\"Email Address\"\r\n        value={email.value}\r\n        type=\"email\"\r\n        onChange={handleEmail}\r\n        error={email.error}\r\n        helperText={email.helperText}\r\n      />\r\n\r\n      <Select\r\n        label=\"Roles\"\r\n        value={role.value}\r\n        onChange={handleRole}\r\n        error={role.error}\r\n        helperText={role.helperText}\r\n        items={['Customer Service', 'Super Service', 'Principal']}\r\n      />\r\n      <div className=\"btn-wrapper\">\r\n        <Button className=\"btn btn-warning btn-block\" label=\"Add Now\" loading={false} />\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AddAdmin;\r\n","import { useState } from 'react';\r\n\r\nfunction ModalHandler() {\r\n  const [visible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  return [visible, showModal, handleCancel];\r\n}\r\n\r\nexport default ModalHandler;\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/display-name */\r\nimport React from 'react';\r\nimport { AddOutlined, CheckOutlined, ClearOutlined, SearchOutlined } from '@material-ui/icons';\r\nimport { Table } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { RightOutlined } from '@ant-design/icons';\r\nimport { useQuery } from 'react-query';\r\n\r\nimport Pageview from '../../lib/layout/Pageview';\r\nimport searchLogic from './core/SearchLogic';\r\nimport AddAdmin from './add-admin/AddAdmin';\r\nimport modalHandler from './add-admin/core/ModalHandler';\r\nimport { ErrorPage } from '../../lib/control/error-page/FallBack';\r\nimport { admins } from '../../lib/http/admin';\r\nimport '../../lib/style/shared-history.scss';\r\n\r\nfunction SubAdmin() {\r\n  const { status, error, data } = useQuery('admins', admins);\r\n  let payload = [];\r\n\r\n  if (data !== undefined) {\r\n    data.data.data.profiles.map((item, index) => {\r\n      const value = {\r\n        key: item.registrationId,\r\n        sn: index + 1,\r\n        username: item.username === null ? '---' : item.username,\r\n        email: item.email,\r\n        phoneNumber: item.phoneNumber === null ? '---' : item.phoneNumber,\r\n        enabled: item.locked,\r\n      };\r\n\r\n      payload.push(value);\r\n    });\r\n  }\r\n\r\n  const [searchTerm, handleSearch, inputRef, searchResults] = searchLogic(payload);\r\n  const columns = [\r\n    {\r\n      title: 'SN',\r\n      dataIndex: 'sn',\r\n      key: 'sn',\r\n      sorter: {\r\n        compare: (a, b) => a.sn - b.sn,\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n      render: (text, record) =>\r\n        text === '---' ? (\r\n          '---'\r\n        ) : (\r\n          <Link to={`/sub-admin/${record.registrationId}`} className=\"text-info\">\r\n            {text}\r\n          </Link>\r\n        ),\r\n      sorter: (a, b) => {\r\n        var v1 = a.username;\r\n        var v2 = b.username;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n      sorter: (a, b) => {\r\n        var v1 = a.email;\r\n        var v2 = b.email;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'PhoneNumber',\r\n      dataIndex: 'phoneNumber',\r\n      key: 'phoneNumber',\r\n      sorter: (a, b) => {\r\n        var v1 = a.feeInDollar;\r\n        var v2 = b.feeInDollar;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Enabled',\r\n      dataIndex: 'enabled',\r\n      key: 'enabled',\r\n      render: (enabled) =>\r\n        !enabled ? (\r\n          <CheckOutlined className=\"text-success\" />\r\n        ) : (\r\n          <ClearOutlined className=\"text-danger\" />\r\n        ),\r\n    },\r\n\r\n    {\r\n      title: 'More',\r\n      dataIndex: 'key',\r\n      key: 'key',\r\n      render: (text) => (\r\n        <Link to={`/sub-admin/${text}`} className=\"text-info\">\r\n          <RightOutlined />\r\n        </Link>\r\n      ),\r\n    },\r\n  ];\r\n  const src = searchTerm === '' ? payload : searchResults;\r\n  const [visible, showModal, handleCancel] = modalHandler();\r\n\r\n  if (status !== 'success') {\r\n    return <ErrorPage status={status} error={error} data={data} title=\"Admins\" />;\r\n  }\r\n\r\n  return (\r\n    <Pageview title=\"Admins\">\r\n      <div className=\"row shared-history\">\r\n        <div className=\"offset-md-2 col-md-8\">\r\n          <div className=\"search-parent-wrapper\">\r\n            <div className=\"search-wrapper\" data-aos=\"fade-down\">\r\n              <SearchOutlined />\r\n              <input\r\n                type=\"text\"\r\n                ref={inputRef}\r\n                value={searchTerm}\r\n                onChange={handleSearch}\r\n                placeholder=\"Search\"\r\n              />\r\n            </div>\r\n            <div className=\"add-icon\" onClick={showModal}>\r\n              <AddOutlined />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"table-responsive\">\r\n            <Table columns={columns} dataSource={src} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <AddAdmin visible={visible} handleCancel={handleCancel} />\r\n    </Pageview>\r\n  );\r\n}\r\n\r\nexport default SubAdmin;\r\n"],"sourceRoot":""}