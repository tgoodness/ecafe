{"version":3,"sources":["lib/http/users.js","../node_modules/@material-ui/icons/esm/CheckOutlined.js","../node_modules/@material-ui/icons/esm/CloseOutlined.js","components/users/core/SearchLogic.js","components/users/Users.jsx"],"names":["users","axios","get","API_URL","headers","authHeader","user","registrationId","manageDisable","params","post","userTransactions","tradeCrypto","p2p","received","transfer","manageTradeCrypto","param","manageTransfer","createSvgIcon","React","d","SearchLogic","data","inputRef","useRef","useState","searchTerm","setSearchTerm","searchResults","setSearchResults","e","target","value","current","focus","result","filter","o","key","toLowerCase","includes","username","firstName","toString","lastName","email","verified","Users","useQuery","status","error","payload","undefined","map","item","index","sn","verifyStatus","push","searchLogic","handleSearch","columns","title","dataIndex","sorter","compare","a","b","render","text","record","to","className","v1","v2","CheckOutlined","CloseOutlined","RightOutlined","src","Pageview","SearchOutlined","type","ref","onChange","placeholder","dataSource"],"mappings":"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","file":"static/js/13.56749c91.chunk.js","sourcesContent":["import { API_URL } from './url';\r\nimport axios from 'axios';\r\nimport { authHeader } from './config';\r\n\r\nexport const users = () => {\r\n  return axios.get(`${API_URL}users`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const user = (registrationId) => {\r\n  return axios.get(`${API_URL}users/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manageDisable = (params) => {\r\n  return axios.post(`${API_URL}users/restrictions`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userP2P = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/txs/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTransactions = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTradeCrypto = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/txs/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTransfer = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/txs/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userReceived = (registrationId) => {\r\n  return axios.get(`${API_URL}users/received/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const tradeCrypto = () => {\r\n  return axios.get(`${API_URL}btc/txs/bought`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const p2p = () => {\r\n  return axios.get(`${API_URL}btc/txs/p2p`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const received = () => {\r\n  return axios.get(`${API_URL}btc/txs/received`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const transfer = () => {\r\n  return axios.get(`${API_URL}btc/txs/transfer`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manageTradeCrypto = (param) => {\r\n  return axios.post(`${API_URL}btc/buy-management`, param, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manageTransfer = (param) => {\r\n  return axios.post(`${API_URL}btc/transfer-management`, param, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\"\n}), 'CheckOutlined');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n}), 'CloseOutlined');","import { useState, useRef } from 'react';\r\n\r\nfunction SearchLogic(data) {\r\n  const inputRef = useRef(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n    if (searchTerm === '') {\r\n      inputRef.current.focus();\r\n    }\r\n\r\n    const result = data.filter(\r\n      (o) =>\r\n        o.key.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.firstName.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.lastName.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.email.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.verified.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setSearchResults(result);\r\n  };\r\n\r\n  return [searchTerm, handleSearch, inputRef, searchResults];\r\n}\r\n\r\nexport default SearchLogic;\r\n","/* eslint-disable react/display-name */\r\nimport React from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { CheckOutlined, SearchOutlined, CloseOutlined } from '@material-ui/icons';\r\nimport { Table } from 'antd';\r\nimport { RightOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Pageview from '../../lib/layout/Pageview';\r\nimport { ErrorPage } from '../../lib/control/error-page/FallBack';\r\nimport searchLogic from './core/SearchLogic';\r\nimport { users } from '../../lib/http/users';\r\nimport '../../lib/style/users.scss';\r\n\r\nfunction Users() {\r\n  const { status, error, data } = useQuery('users', users);\r\n  let payload = [];\r\n  if (data !== undefined) {\r\n    data.data.data.users.map((item, index) => {\r\n      const value = {\r\n        key: item.registrationId,\r\n        sn: index + 1,\r\n        username: item.username,\r\n        firstName: item.verifyStatus === 'VERIFIED' ? item.firstName : '---',\r\n        lastName: item.verifyStatus === 'VERIFIED' ? item.lastName : '---',\r\n        email: item.email,\r\n        verified: item.verifyStatus,\r\n      };\r\n      payload.push(value);\r\n    });\r\n  }\r\n\r\n  const [searchTerm, handleSearch, inputRef, searchResults] = searchLogic(payload);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'SN',\r\n      dataIndex: 'sn',\r\n      key: 'sn',\r\n      sorter: {\r\n        compare: (a, b) => a.sn - b.sn,\r\n      },\r\n    },\r\n    {\r\n      title: 'Username',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n\r\n      render: (text, record) => (\r\n        <Link to={`user/${record.key}`} className=\"text-info\">\r\n          {text}\r\n        </Link>\r\n      ),\r\n      sorter: (a, b) => {\r\n        var v1 = a.username;\r\n        var v2 = b.username;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'FirstName',\r\n      dataIndex: 'firstName',\r\n      key: 'firstName',\r\n      sorter: (a, b) => {\r\n        var v1 = a.firstName;\r\n        var v2 = b.firstName;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'LastName',\r\n      dataIndex: 'lastName',\r\n      key: 'lastName',\r\n      sorter: (a, b) => {\r\n        var v1 = a.lastName;\r\n        var v2 = b.lastName;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n      // eslint-disable-next-line react/display-name\r\n      sorter: (a, b) => {\r\n        var v1 = a.email;\r\n        var v2 = b.email;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Verified',\r\n      dataIndex: 'verified',\r\n      key: 'verified',\r\n      // eslint-disable-next-line react/display-name\r\n      render: (text) => (\r\n        <span>\r\n          {text === 'VERIFIED' ? (\r\n            <CheckOutlined className=\"text-success\" />\r\n          ) : (\r\n            <CloseOutlined className=\"text-danger\" />\r\n          )}\r\n        </span>\r\n      ),\r\n      sorter: (a, b) => {\r\n        var v1 = a.verified;\r\n        var v2 = b.verified;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'More',\r\n      dataIndex: 'key',\r\n      key: 'key',\r\n      // eslint-disable-next-line react/display-name\r\n      render: (registrationId) => (\r\n        <Link to={`user/${registrationId}`}>\r\n          <RightOutlined />\r\n        </Link>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const src = searchTerm === '' ? payload : searchResults;\r\n  if (status !== 'success') {\r\n    return <ErrorPage status={status} error={error} data={data} title=\"Users\" />;\r\n  }\r\n  return (\r\n    <Pageview title=\"Users\" className=\"users\">\r\n      <div className=\"row\">\r\n        <div className=\"offset-md-2 col-md-8\">\r\n          <div className=\"search-wrapper\" data-aos=\"fade-down\">\r\n            <SearchOutlined />\r\n            <input\r\n              type=\"text\"\r\n              ref={inputRef}\r\n              value={searchTerm}\r\n              onChange={handleSearch}\r\n              placeholder=\"Search\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"table-responsive\">\r\n            <Table columns={columns} dataSource={src} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Pageview>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n"],"sourceRoot":""}