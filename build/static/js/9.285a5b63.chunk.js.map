{"version":3,"sources":["lib/http/users.js","lib/service/history-tab.js","components/trade-crypto/core/SearchLogic.js","components/trade-crypto/core/ModalHandler.js","components/trade-crypto/core/ManageRequest.js","components/trade-crypto/Details.jsx","components/trade-crypto/TradeCrypto.jsx"],"names":["users","axios","get","API_URL","headers","authHeader","user","registrationId","manageDisable","params","post","userTransactions","tradeCrypto","p2p","received","transfer","manageTradeCrypto","param","manageTransfer","handleTab","useState","pending","completed","cancelled","activeTab","active","setstate","type","SearchLogic","data","inputRef","useRef","searchTerm","setSearchTerm","searchResults","setSearchResults","e","target","value","current","focus","result","filter","o","sn","toString","includes","amountInDollar","toLowerCase","amountInCoin","feeInDollar","orderType","date","time","ModalHandler","visible","setIsModalVisible","reference","setReference","currentTarget","id","Request","action","transactionReference","handleCancel","useReducer","reducer","init","state","dispatch","queryClient","useQueryClient","mutate","useMutation","onMutate","onError","error","message","onSuccess","invalidateQueries","setTimeout","event","reason","Details","props","undefined","payload","txs","find","p","approveRequest","stateA","handleSubmitA","handleCloseA","declineRequest","stateD","handleSubmitD","handleCloseD","title","onCancel","footer","className","status","feeInCoin","approvedBy","to","username","util","dateFormat","dateAndTime","timeFormat","dateModified","popUploaded","src","POP_IMG_URL","proofOfPayment","pop","Button","label","loading","onClick","Alert","open","msg","onClose","TradeCrypto","useQuery","modalHandler","showModal","map","item","index","key","push","columns","dataIndex","sorter","compare","a","b","render","text","v1","v2","RightOutlined","searchLogic","handleSearch","historyTab","handleActive","h","Pageview","SearchOutlined","ref","onChange","placeholder","dataSource"],"mappings":"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","file":"static/js/9.285a5b63.chunk.js","sourcesContent":["import { API_URL } from './url';\r\nimport axios from 'axios';\r\nimport { authHeader } from './config';\r\n\r\nexport const users = () => {\r\n  return axios.get(`${API_URL}users`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const user = (registrationId) => {\r\n  return axios.get(`${API_URL}users/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manageDisable = (params) => {\r\n  return axios.post(`${API_URL}users/restrictions`, params, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userP2P = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/txs/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTransactions = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTradeCrypto = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/txs/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userTransfer = (registrationId) => {\r\n  return axios.get(`${API_URL}btc/txs/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const userReceived = (registrationId) => {\r\n  return axios.get(`${API_URL}users/received/${registrationId}`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const tradeCrypto = () => {\r\n  return axios.get(`${API_URL}btc/txs/bought`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const p2p = () => {\r\n  return axios.get(`${API_URL}btc/txs/p2p`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const received = () => {\r\n  return axios.get(`${API_URL}btc/txs/received`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const transfer = () => {\r\n  return axios.get(`${API_URL}btc/txs/transfer`, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manageTradeCrypto = (param) => {\r\n  return axios.post(`${API_URL}btc/buy-management`, param, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n\r\nexport const manageTransfer = (param) => {\r\n  return axios.post(`${API_URL}btc/transfer-management`, param, {\r\n    headers: authHeader(),\r\n  });\r\n};\r\n","import { useState } from 'react';\r\n\r\nfunction handleTab() {\r\n  const [active, setstate] = useState({\r\n    pending: true,\r\n    completed: false,\r\n    cancelled: false,\r\n    activeTab: 'PENDING',\r\n  });\r\n\r\n  const handleActive = (type) => {\r\n    if (type === 'PENDING') {\r\n      setstate({\r\n        pending: true,\r\n        completed: false,\r\n        cancelled: false,\r\n        activeTab: 'PENDING',\r\n      });\r\n    }\r\n\r\n    if (type === 'COMPLETED') {\r\n      setstate({ pending: false, completed: true, cancelled: false, activeTab: 'COMPLETED' });\r\n    }\r\n\r\n    if (type === 'CANCELLED') {\r\n      setstate({\r\n        pending: false,\r\n        completed: false,\r\n        cancelled: true,\r\n        activeTab: 'CANCELLED',\r\n      });\r\n    }\r\n  };\r\n\r\n  return [active.activeTab, handleActive];\r\n}\r\n\r\nexport default handleTab;\r\n","import { useState, useRef } from 'react';\r\n\r\nfunction SearchLogic(data) {\r\n  const inputRef = useRef(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n    if (searchTerm === '') {\r\n      inputRef.current.focus();\r\n    }\r\n\r\n    const result = data.filter(\r\n      (o) =>\r\n        o.sn.toString().includes(searchTerm.toString()) ||\r\n        o.amountInDollar.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.amountInCoin.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.feeInDollar.toString().includes(searchTerm.toLowerCase()) ||\r\n        o.orderType.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.date.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        o.time.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setSearchResults(result);\r\n  };\r\n\r\n  return [searchTerm, handleSearch, inputRef, searchResults];\r\n}\r\n\r\nexport default SearchLogic;\r\n","import { useState } from 'react';\r\n\r\nfunction ModalHandler() {\r\n  const [visible, setIsModalVisible] = useState(false);\r\n  const [reference, setReference] = useState('');\r\n  const showModal = (e) => {\r\n    setReference(e.currentTarget.id);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  return [reference, visible, showModal, handleCancel];\r\n}\r\n\r\nexport default ModalHandler;\r\n","import { useReducer } from 'react';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\n\r\nimport { manageTradeCrypto } from '../../../lib/http/users';\r\nimport { init, reducer } from '../../../lib/reducer/post';\r\nimport * as type from '../../../lib/reducer/action-type';\r\n\r\nfunction Request(action, transactionReference, handleCancel) {\r\n  // Close alert\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    dispatch({ type: type.CLOSE_ALERT });\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, init);\r\n  const queryClient = useQueryClient();\r\n  const { mutate } = useMutation(manageTradeCrypto, {\r\n    onMutate: () => {\r\n      dispatch({ type: type.LOADING });\r\n    },\r\n    onError: (error) => {\r\n      dispatch({ type: type.ERROR, message: error });\r\n    },\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries('admin');\r\n      dispatch({ type: type.SUCCESS, message: data });\r\n      setTimeout(() => {\r\n        handleCancel();\r\n      }, 2000);\r\n    },\r\n  });\r\n\r\n  const handleSubmit = () => {\r\n    const params = { action, transactionReference };\r\n    mutate(params);\r\n  };\r\n\r\n  return [state, handleSubmit, handleClose];\r\n}\r\n\r\nexport default Request;\r\n","import React from 'react';\r\nimport { Modal, Image } from 'antd';\r\n\r\nimport Alert from '../../lib/control/Alert';\r\nimport Button from '../../lib/control/Button';\r\nimport approveRequest from './core/ManageRequest';\r\nimport declineRequest from './core/ManageRequest';\r\n\r\nimport util from '../../lib/service/util';\r\nimport { POP_IMG_URL } from '../../lib/http/url';\r\nimport '../../lib/style/p2p-details.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Details(props) {\r\n  const { reference, data, visible, handleCancel } = props;\r\n\r\n  if (data === undefined || reference === '') {\r\n    return null;\r\n  }\r\n  const payload = data.data.data.txs.find((p) => p.transactionReference === reference);\r\n  const [stateA, handleSubmitA, handleCloseA] = approveRequest(\r\n    'APPROVE',\r\n    payload.transactionReference,\r\n    handleCancel\r\n  );\r\n  const [stateD, handleSubmitD, handleCloseD] = declineRequest(\r\n    'DECLINE',\r\n    payload.transactionReference,\r\n    handleCancel\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Details\"\r\n      visible={visible}\r\n      onCancel={handleCancel}\r\n      footer={false}\r\n      className=\"p2p-details\"\r\n    >\r\n      <div>\r\n        <h6>Reference</h6>\r\n        <h5 className=\"type\">{payload.transactionReference}</h5>\r\n      </div>\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Status</h6>\r\n          <h5>\r\n            {payload.status === 'UNCONFIRMED' && <span className=\"pending\">UNCONFIRMED</span>}\r\n          </h5>\r\n          <h5>{payload.status === 'CONFIRMED' && <span className=\"success\">CONFIRMED</span>}</h5>\r\n          <h5>{payload.status === 'DECLINED' && <span className=\"danger\">DECLINED</span>}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Type</h6>\r\n          <h5 className=\"type\">{payload.orderType}</h5>\r\n        </div>\r\n      </div>\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Amount (USD)</h6>\r\n          <h5>{payload.amountInDollar}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Amount (BTC)</h6>\r\n          <h5>{payload.amountInCoin}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Fee (USD)</h6>\r\n          <h5>{payload.feeInDollar}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Fee (BTC)</h6>\r\n          <h5>{payload.feeInCoin}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>User ID</h6>\r\n          <h5>{payload.registrationId}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      {payload.approvedBy !== null && (\r\n        <div className=\"row-wrapper\">\r\n          <div>\r\n            <h6>Approved By</h6>\r\n            <h5>\r\n              <Link to={`/admins/${payload.approvedBy.registrationId}`}>\r\n                {payload.approvedBy.username}\r\n              </Link>\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"row-wrapper\">\r\n        <div>\r\n          <h6>Date Created</h6>\r\n          <h5>{util.dateFormat(payload.dateAndTime)}</h5>\r\n        </div>\r\n        <div>\r\n          <h6>Time</h6>\r\n          <h5>{util.timeFormat(payload.dateAndTime)}</h5>\r\n        </div>\r\n      </div>\r\n\r\n      {payload.dateModified !== null && (\r\n        <div className=\"row-wrapper\">\r\n          <div>\r\n            <h6>Date Modified</h6>\r\n            <h5>{util.dateFormat(payload.dateModified)}</h5>\r\n          </div>\r\n          <div>\r\n            <h6>Time</h6>\r\n            <h5>{util.timeFormat(payload.dateModified)}</h5>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {payload.popUploaded && (\r\n        <div className=\"pop-wrapper\">\r\n          <h6>Buyer POP</h6>\r\n          <Image src={`${POP_IMG_URL}${payload.proofOfPayment.pop}`} />\r\n        </div>\r\n      )}\r\n\r\n      {payload.status === 'UNCONFIRMED' && (\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-6\">\r\n            <Button\r\n              label=\"Decline\"\r\n              className=\"btn btn-danger btn-block\"\r\n              loading={stateD.loading}\r\n              onClick={handleSubmitD}\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Button\r\n              label=\"Approve\"\r\n              className=\"btn btn-success btn-block\"\r\n              loading={stateA.loading}\r\n              onClick={handleSubmitA}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Alert open={stateA.open} msg={stateA.message} onClose={handleCloseA} />\r\n      <Alert open={stateD.open} msg={stateD.message} onClose={handleCloseD} />\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default Details;\r\n","import React from 'react';\r\nimport { Table } from 'antd';\r\nimport { useQuery } from 'react-query';\r\nimport { SearchOutlined } from '@material-ui/icons';\r\nimport { RightOutlined } from '@ant-design/icons';\r\n\r\nimport Pageview from '../../lib/layout/Pageview';\r\nimport { ErrorPage } from '../../lib/control/error-page/FallBack';\r\nimport { tradeCrypto } from '../../lib/http/users';\r\n\r\nimport searchLogic from './core/SearchLogic';\r\nimport modalHandler from './core/ModalHandler';\r\nimport Details from './Details';\r\nimport util from '../../lib/service/util';\r\nimport historyTab from '../../lib/service/history-tab';\r\nimport '../../lib/style/shared-history.scss';\r\n\r\nfunction TradeCrypto() {\r\n  const { status, error, data } = useQuery('tradeCrypto', tradeCrypto);\r\n  const [reference, visible, showModal, handleCancel] = modalHandler();\r\n\r\n  let payload = [];\r\n  if (data !== undefined) {\r\n    data.data.data.txs.map((item, index) => {\r\n      const value = {\r\n        key: item.transactionReference,\r\n        sn: index + 1,\r\n        amountInDollar: item.amountInDollar,\r\n        amountInCoin: item.amountInCoin,\r\n        feeInDollar: item.feeInDollar,\r\n        orderType: item.orderType,\r\n        status: item.status,\r\n        date: util.dateFormat(item.dateAndTime),\r\n        time: util.timeFormat(item.dateAndTime),\r\n      };\r\n      payload.push(value);\r\n    });\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      title: 'S/N',\r\n      dataIndex: 'sn',\r\n      key: 'sn',\r\n      sorter: {\r\n        compare: (a, b) => a.sn - b.sn,\r\n      },\r\n    },\r\n    {\r\n      title: 'Reference',\r\n      dataIndex: 'key',\r\n      key: 'key',\r\n      // eslint-disable-next-line react/display-name\r\n      render: (text) => (\r\n        <span className=\"text-info\" onClick={showModal} id={text}>\r\n          {text}\r\n        </span>\r\n      ),\r\n      sorter: (a, b) => {\r\n        var v1 = a.registrationId;\r\n        var v2 = b.registrationId;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Amount(USD)',\r\n      dataIndex: 'amountInDollar',\r\n      key: 'amountInDollar',\r\n      sorter: (a, b) => {\r\n        var v1 = a.amountInDollar;\r\n        var v2 = b.amountInDollar;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Amount(BTC)',\r\n      dataIndex: 'amountInCoin',\r\n      key: 'amountInCoin',\r\n      sorter: (a, b) => {\r\n        var v1 = a.amountInCoin;\r\n        var v2 = b.amountInCoin;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Fee(USD)',\r\n      dataIndex: 'feeInDollar',\r\n      key: 'feeInDollar',\r\n      // eslint-disable-next-line react/display-name\r\n      sorter: (a, b) => {\r\n        var v1 = a.feeInDollar;\r\n        var v2 = b.feeInDollar;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Type',\r\n      dataIndex: 'orderType',\r\n      key: 'orderType',\r\n      sorter: (a, b) => {\r\n        var v1 = a.orderType;\r\n        var v2 = b.orderType;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Date',\r\n      dataIndex: 'date',\r\n      key: 'date',\r\n      sorter: (a, b) => {\r\n        var v1 = a.date;\r\n        var v2 = b.date;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'Time',\r\n      dataIndex: 'time',\r\n      key: 'time',\r\n      sorter: (a, b) => {\r\n        var v1 = a.time;\r\n        var v2 = b.time;\r\n        if (v1 < v2) {\r\n          return -1;\r\n        }\r\n        if (v1 > v2) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    {\r\n      title: 'More',\r\n      dataIndex: 'key',\r\n      key: 'key',\r\n      // eslint-disable-next-line react/display-name\r\n      render: (key) => <RightOutlined className=\"text-primary\" onClick={showModal} id={key} />,\r\n    },\r\n  ];\r\n\r\n  const [searchTerm, handleSearch, inputRef, searchResults] = searchLogic(payload);\r\n  let src = searchTerm === '' ? payload : searchResults;\r\n\r\n  const [active, handleActive] = historyTab();\r\n  if (active === 'PENDING') {\r\n    src = src.filter((h) => h.status === 'UNCONFIRMED');\r\n  }\r\n\r\n  if (active === 'COMPLETED') {\r\n    src = src.filter((h) => h.status === 'CONFIRMED');\r\n  }\r\n\r\n  if (active === 'CANCELLED') {\r\n    src = src.filter((h) => h.status === 'DECLINED');\r\n  }\r\n\r\n  if (status !== 'success') {\r\n    return <ErrorPage status={status} error={error} data={data} title=\"Trade Crypto\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Pageview title=\"Trade Crypto\">\r\n        <div className=\"row shared-history\">\r\n          <div className=\"offset-md-2 col-md-8\">\r\n            <div className=\"tab-wrapper\">\r\n              <div\r\n                className={active === 'PENDING' ? 'active' : ''}\r\n                onClick={() => handleActive('PENDING')}\r\n              >\r\n                PENDING\r\n              </div>\r\n              <div\r\n                className={active === 'COMPLETED' ? 'active' : ''}\r\n                onClick={() => handleActive('COMPLETED')}\r\n              >\r\n                COMPLETED\r\n              </div>\r\n              <div\r\n                className={active === 'CANCELLED' ? 'active' : ''}\r\n                onClick={() => handleActive('CANCELLED')}\r\n              >\r\n                CANCELLED\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row shared-history\">\r\n          <div className=\"offset-md-2 col-md-8\">\r\n            <div className=\"search-wrapper\" data-aos=\"fade-down\">\r\n              <SearchOutlined />\r\n              <input\r\n                type=\"text\"\r\n                ref={inputRef}\r\n                value={searchTerm}\r\n                onChange={handleSearch}\r\n                placeholder=\"Search\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"table-responsive\">\r\n              <Table columns={columns} dataSource={src} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Details reference={reference} data={data} visible={visible} handleCancel={handleCancel} />\r\n      </Pageview>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TradeCrypto;\r\n"],"sourceRoot":""}